"0","EMDdata <- read_csv(""RawData/comb-EMD Overlay Results.csv"")"
"0",""
"0","# Fix column names in the main dataframe"
"0","EMDdata <- EMDdata %>%"
"0","  rename(FullClipName = Name) %>%"
"0","  { names(.)[2] <- ""Frame""; . } %>%"
"0","  mutate("
"0","    ClipName = FullClipName %>%"
"0","      str_remove(""^bg_|^both_"") %>%  # drop ""bg_"" or ""both_"""
"0","      str_remove(""_[LD]$"")           # drop trailing ""_L"" or ""_D"""
"0","  )"
"0",""
"0","tracks <- read_csv(""RawData/lateral_combined_tracks.csv"")"
"0",""
"0","real_direction <- tracks %>%"
"0","  # make sure frames are in ascending order"
"0","  arrange(clip, frame) %>%"
"0","  group_by(clip) %>%"
"0","  summarise("
"0","    real_direction = if_else("
"0","      last(x) > first(x),"
"0","      90,   # moving right"
"0","      270   # moving left"
"0","    )"
"0","  ) %>%"
"0","  ungroup() %>%"
"0","  mutate("
"0","    clip = str_remove(clip, ""_[LD]$"")"
"0","  ) %>%"
"0","  rename(ClipName = clip)"
