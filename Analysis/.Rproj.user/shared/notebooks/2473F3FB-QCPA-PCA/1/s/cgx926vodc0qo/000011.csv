"0","# Extract actual PC1 loadings"
"0","PC1_loadings <- res.pca$rotation[, 1]"
"0",""
"0","# Round loadings for formula output"
"0","rounded_loadings <- round(PC1_loadings, 5)"
"0",""
"0","# Variable names"
"0","vars <- names(PC1_loadings)"
"0",""
"0","# Format terms as ""loading * `var`"""
"0","terms <- paste0(rounded_loadings, "" * `"", vars, ""`"")"
"0",""
"0","# Collapse into formula string"
"0","rhs <- paste(terms, collapse = "" + "")"
"0",""
"0","# Build formula object"
"0","pca_formula_full <- as.formula(paste(""PC1 ~"", rhs))"
"0",""
"0","# Save formula for later use"
"0","saveRDS(pca_formula_full, ""PC1_formula.rds"")"
"0","saveRDS(pca_formula_full, ""Figures/ColourPatterns/PCA/PC1_formula.rds"")"
"0",""
